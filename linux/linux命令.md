[TOC]

# linux命令



## 查看linux发行版本

```bash
lsb_release -a
```



## 查看linux内核版本

```bash
uname -a
```



## 查看磁盘空间

KB为计量单位：

```bash
df
```

MB为计量单位：

```bash
df -Th
```



## linux文件权限

在linux中第一个字符代表这个文件是目录、文件或链接文件等等。

* 当为 **d** 则是目录;
* 当为 **-** 则是文件；
* 若是 **l** 则表示为链接文档(link file)；
* 若是 **b** 则表示为装置文件里面的可供储存的接口设备(可随机存取装置)；
* 若是 **c** 则表示为装置文件里面的串行端口设备，例如键盘、鼠标(一次性读取装置)。

![img](https://www.runoob.com/wp-content/uploads/2014/06/file-llls22.jpg)

![363003_1227493859FdXT](https://www.runoob.com/wp-content/uploads/2014/06/363003_1227493859FdXT.png)

从左至右用 **0-9** 这些数字来表示。

第 **0** 位确定文件类型，第 **1-3** 位确定属主（该文件的所有者）拥有该文件的权限。

第4-6位确定属组（所有者的同组用户）拥有该文件的权限，第7-9位确定其他用户拥有该文件的权限。

其中，第 **1、4、7** 位表示读权限，如果用 **r** 字符表示，则有读权限，如果用 **-** 字符表示，则没有读权限；

第 **2、5、8** 位表示写权限，如果用 **w** 字符表示，则有写权限，如果用 **-** 字符表示没有写权限；第 **3、6、9** 位表示可执行权限，如果用 **x** 字符表示，则有执行权限，如果用 **-** 字符表示，则没有执行权限。



## linux目录

**~：**

用户主目录。对一般用户，～表示/home/（用户名），对于root用户，～表示/root。



**home：**

用户列表目录。存放所有用户文件的根目录，是用户主目录的基点。



**etc：**

存放软件的配置文件。



**sys：**

系统目录。



**usr：**

存放系统可执行文件。



**var：**

存放日志文件。



**tmp：**

存放临时文件，linux重启之后会删除临时文件。



## CPU/内存/进程

**查看linuxCPU/内存/进程资源：**

```bash
top
```



## 文档型命令

**cd：**

切换的目标目录

```bash
cd 目录名
```



**ls：**

显示指定工作目录下之内容

```bash
ls 
```

参数：

- -a 显示所有文件及目录 (**.** 开头的隐藏文件也会列出)
- -l 除文件名称外，亦将文件型态、权限、拥有者、文件大小等资讯详细列出
- -r 将文件以相反次序显示(原定依英文字母次序)
- -t 将文件依建立时间之先后次序列出
- -A 同 -a ，但不列出 "." (目前目录) 及 ".." (父目录)
- -F 在列出的文件名称后加一符号；例如可执行档则加 "*", 目录则加 "/"
- -R 若目录下有文件，则以下之文件亦皆依序列出



**mkdir：**

创建目录

```bash
mkdir 目录名
```



在工作目录下的a目录中，建立一个名为b的子目录。若a目录原本不存在，则建立一个。（注：本例若不加 -p 参数，且原本a目录不存在，则产生错误。）

```bash
mkdir -p 一级目录/二级目录
```

参数：

- -p 确保目录名称存在，不存在的就建一个。



**touch：**

修改文件或者目录的时间属性，包括存取时间和更改时间。若文件不存在，系统会建立一个新的文件。

```bash
touch 文件名
```



**cat：**

查看文件内容

```bash
cat 文件名
```



**echo：**

写入文本内容

```bash
echo 内容 > 文件名
```

符号：

* \>：覆盖写入
* \>>：追加写入



**mv：**

移动或重命名目录/文件

```bash
mv 旧目录/文件 新目录/文件
```



**cp：**

复制目录/文件

```bash
cp 源目录/文件 目标目录/文件
```



**rm：**

删除一个文件或者目录

```bash
rm 文件名/目录名
```

参数：

- -i 删除前逐一询问确认。
- -f 即使原档案属性设为唯读，亦直接删除，无需逐一确认。
- -r 将目录及以下之档案亦逐一删除。



删除当前目录下的所有文件及目录：

```bash
rm  -rf  * 
```

**注意：文件一旦通过rm命令删除，则无法恢复，所以必须格外小心地使用该命令。**



## 硬盘型命令

**ps：**

ps（process status）查看进程的状态

```bash
ps
```

参数：

-e 显示所有进程,环境变量

-f 全格式

-h 不显示标题

-l 长格式

-w 宽输出

-a 显示终端上地所有进程,包括其他用户的进程

-r 只显示正在运行地进程

-x 显示没有控制终端地进程

-u 以用户为主的进程状态

ps命令用于查看当前正在运行的进程，最常用的方法是ps aux，然后再通过管道使用grep命令过滤查找特定的进程，再对特定的进程进行操作，其中grep起到搜索作用。

例如表示查看所有进程里CMD是java的进程信息

```bash
ps -ef | grep java
```



**kill：**

通常用ps查看进程PID，用kill命令终止进程

```bash
kill -9 pid
```

信号：

- 1 (HUP)：重新加载进程。
- 9 (KILL)：杀死一个进程。
- 15 (TERM)：正常停止一个进程。



**查看系统服务状态：**

```bash
service sshd status
```



**关闭系统服务：**

```bash
service sshd stop
```



**重启系统服务：**

```bash
service sshd restart
```



**查看当前目录路径：**

```bash
pwd
```



## 功能型命令

**下载：**

```bash
wget 文件下载链接
```

如果提示wget: 未找到命令，先使用yum安装wget：

```bash
yum -y install wget
```



**tar解压：**

```bash
tar zxvf 文件名
```

* z：通过gzip支持压缩或解压缩。还有其他的压缩或解压缩方式，比如j表示bzip2的方式。
* x：解压缩。c是压缩。
* v：在压缩或解压缩过程中显示正在处理的文件名
* f：f后面必须跟上要处理的文件名。

z代表gzip的压缩包；x代表解压；v代表显示过程信息；f代表后面接的是文件。



**tar压缩：**

```bash
tar zcvf 压缩包名 目录名
```



**查看本机ip：**

```bash
 ip addr
 # 或者
 ifconfig
```



**zip解压：**

```bash
unzip 文件名
```



**zip压缩：**

```bash
zip 压缩包名 目录名
```

参数：

+ -r：递归处理，将指定目录下的所有文件和子目录一并处理。



**chmod:**

chmod（change mode）控制用户对文件的权限

```bash
chmod 777 目录名/文件名
```

参数：

- -R : 对目前目录下的所有文件与子目录进行相同的权限变更(即以递归的方式逐个变更)

**chmod +x：赋予执行权限**



chmod命令可以使用八进制数来指定权限。文件或目录的权限位是由9个权限位来控制，每三位为一组，它们分别是文件所有者（User）的读、写、执行，用户组（Group）的读、写、执行以及其它用户（Other）的读、写、执行。历史上，文件权限被放在一个比特掩码中，掩码中指定的比特位设为1，用来说明一个类具有相应的优先级。

| #    | 权限           | rwx  | 二进制 |
| :--- | :------------- | :--- | :----- |
| 7    | 读 + 写 + 执行 | rwx  | 111    |
| 6    | 读 + 写        | rw-  | 110    |
| 5    | 读 + 执行      | r-x  | 101    |
| 4    | 只读           | r--  | 100    |
| 3    | 写 + 执行      | -wx  | 011    |
| 2    | 只写           | -w-  | 010    |
| 1    | 只执行         | --x  | 001    |
| 0    | 无             | ---  | 000    |

![img](https://www.runoob.com/wp-content/uploads/2014/08/rwx-standard-unix-permission-bits.png)



**防火墙放行端口：**

```bash
# 防火墙增加放行端口
firewall-cmd --add-port=端口号/tcp --permanent
# 重新加载防火墙规则
firewall-cmd --reload
# 查看防火墙放行规则
firewall-cmd --list-all
```



**系统重启：**

```bash
reboot
# 立刻重启(root用户使用)
shutdown -r now
# 过10分钟自动重启(root用户使用)
shutdown -r 10
```



**系统关机：**

```bash
# 立刻关机
halt
# 立刻关机
poweroff
# 立刻关机(root用户使用)
shutdown -h now
# 10分钟后自动关机
shutdown -h 10
```



## **vi/vim**

**使用vim编辑器编辑文件：**

```bash
vi 文件名
```

参考：[链接](https://www.runoob.com/linux/linux-vim.html)

**查找：**

1. 按下”ESC“键进入命令输入模式。
2. 输入“/“+关键字，然后按下回车键。
3. 向下查找关键字输入”n“，向上查找关键字输入”N“。



**撤销：**

1. 按下”ESC“键进入命令输入模式。
2. 按小写“u”，撤销输入内容。
3. 按"ctrl+r"，恢复撤销内容。

备注：

u 命令：该命令撤销上一次所做的操作。多次使用 u 命令会一步一步依次撤销之前做过的操作（在一次切换到文本输入模式中输入的所有文本算一次操作）。

U 命令：该命令会一次性撤销自上次移动到当前行以来做过的所有操作，再使用一次 U 命令则撤销之前的 U 命令所做的操作，恢复被撤销的内容。



**删除行：**

1. 按下”ESC“键进入命令输入模式。
2. 输入”dd”，删除当前行。
3. 如果输入“d"+数字，然后按下回车键。即可删除对应数字的行数。